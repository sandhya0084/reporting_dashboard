{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h3>{{ feature.name }} Feature Report</h3>
    </div>
    <div class="card-body">
      <p class="lead">{{ feature.description }}</p>

      <table class="table table-striped mt-4">
        <thead>
          <tr>
            <th>Client</th>
            <th>Status</th>
            <th>Last Updated</th>
            <th>Metrics</th>
          </tr>
        </thead>
        <tbody>
          {% for cf in client_features %}
          <tr>
            <td>{{ cf.client.name }}</td>
            <td>
              <span
                class="badge bg-{{
                                'success' if cf.status == 'implemented' 
                                else 'warning' if cf.status == 'pending' 
                                else 'danger'
                            }}"
              >
                {{ cf.status }}
              </span>
            </td>
            <td>{{ cf.last_updated.strftime('%Y-%m-%d') }}</td>
            <td>
              <small>Sent: {{ cf.metrics.sent }}</small><br />
              <small>Delivered: {{ cf.metrics.delivered }}</small><br />
              <small>Opened: {{ cf.metrics.opened }}</small>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
